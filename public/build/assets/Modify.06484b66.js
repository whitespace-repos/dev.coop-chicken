import{H as U,_ as x,p as z,w,r as i,B as C,o as l,a as v,d as o,n as d,m as u,C as p,c as a,e as c,t as n,F as h,f as y,s as F}from"./app.34dda1bd.js";import{B as D}from"./Authenticated.4bf69a33.js";import{r as g,e as H,n as A,u as E}from"./index.esm.a0b94528.js";import{F as L}from"./fuse.esm.249bd5bb.js";import{_ as N}from"./ResponsiveNavLink.4100381f.js";const M={props:["shops","user"],components:{BreezeAuthenticatedLayout:D,Head:U},data(){return{form:this.$inertia.form({name:"",_method:"PATCH",email:"",password:"",password_confirmation:"",terms:!1,phone:"",role:"",shop_id:""})}},methods:{fuseSearch(b,s){const m=new L(b,{keys:["shop_name","shop_id"],shouldSort:!0});return s.length?m.search(s).map(({item:r})=>r):m.list},submit(){this.form.post(route("user.update",this.user.id),{onFinish:()=>{this.form.reset("password","password_confirmation"),this.$toast.success(this.form.role+" Detail Updated")}})}},computed(){$("select").selectpicker()},mounted(){x.assignIn(this.form,this.user),this.form.password=this.user.decrypt,setTimeout(()=>{this.form.shop_id=this.user.role=="Supplier"?this.user.shops:this.user.shop},100)},validations(){return{form:{name:{required:g},email:{email:H},password:{required:g},phone:{required:g,numeric:A}}}},setup(){return{v$:E()}}},P=o("h6",{class:"mb-0"},[o("span",{"data-feather":"edit",class:"align-text-bottom"}),y(" Update User Detail")],-1),q=o("hr",{class:"border-danger bg-danger border w-100"},null,-1),I={class:"card card-body shadow-lg"},R={class:"row"},j=o("label",null,"Full Name",-1),G=o("label",null,"Email",-1),J=o("label",null,"Phone",-1),K=o("label",null,"Password",-1),O={class:"form-group col-md-4"},Q=o("label",null,"Shop",-1),W=o("br",null,null,-1),X={class:"form-group col-md-12"},Y=o("hr",null,null,-1),Z=["disabled"];function ee(b,s,m,r,f,_){const k=i("Head"),V=i("BreezeValidationErrors"),B=i("v-select"),S=i("BreezeAuthenticatedLayout"),T=C("maska");return l(),z(S,null,{default:w(()=>[v(k,{title:"Register"}),P,v(V,{class:"mb-4"}),q,o("form",{onSubmit:s[5]||(s[5]=F((...e)=>_.submit&&_.submit(...e),["prevent"]))},[o("div",I,[o("div",R,[o("div",{class:d(["form-group col-md-4",{"has-error":r.v$.form.name.$errors.length}])},[j,u(o("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>r.v$.form.name.$model=e),placeholder:"Type name here",class:"form-control"},null,512),[[p,r.v$.form.name.$model]]),(l(!0),a(h,null,c(r.v$.form.name.$errors,(e,t)=>(l(),a("small",{key:t},n(e.$message),1))),128))],2),o("div",{class:d(["form-group col-md-4",{"has-error":r.v$.form.email.$errors.length}])},[G,u(o("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>r.v$.form.email.$model=e),placeholder:"Type email address here",disabled:"",class:"form-control"},null,512),[[p,r.v$.form.email.$model]]),(l(!0),a(h,null,c(r.v$.form.email.$errors,(e,t)=>(l(),a("small",{key:t},n(e.$message),1))),128))],2),o("div",{class:d(["form-group col-md-4",{"has-error":r.v$.form.phone.$errors.length}])},[J,u(o("input",{"onUpdate:modelValue":s[2]||(s[2]=e=>r.v$.form.phone.$model=e),placeholder:"Type phone number here",class:"form-control"},null,512),[[p,r.v$.form.phone.$model],[T,"#*"]]),(l(!0),a(h,null,c(r.v$.form.phone.$errors,(e,t)=>(l(),a("small",{key:t},n(e.$message),1))),128))],2),o("div",{class:d(["form-group col-md-4",{"has-error":r.v$.form.password.$errors.length}])},[K,u(o("input",{"onUpdate:modelValue":s[3]||(s[3]=e=>r.v$.form.password.$model=e),placeholder:"Type password here",class:"form-control"},null,512),[[p,r.v$.form.password.$model]]),(l(!0),a(h,null,c(r.v$.form.password.$errors,(e,t)=>(l(),a("small",{key:t},n(e.$message),1))),128))],2),o("div",O,[Q,v(B,{modelValue:f.form.shop_id,"onUpdate:modelValue":s[4]||(s[4]=e=>f.form.shop_id=e),filter:_.fuseSearch,options:m.shops,multiple:f.form.role=="Supplier","get-option-key":e=>e.id,"get-option-label":e=>e.shop_name},{option:w(({shop_name:e,shop_id:t})=>[y(n(e)+" ",1),W,o("cite",null,n(t),1)]),_:1},8,["modelValue","filter","options","multiple","get-option-key","get-option-label"])]),o("div",X,[Y,o("button",{class:"btn btn-danger add-btn btn-sm",type:"submit",disabled:r.v$.form.$invalid},"Save Changes",8,Z)])])])],32)]),_:1})}var ae=N(M,[["render",ee]]);export{ae as default};
