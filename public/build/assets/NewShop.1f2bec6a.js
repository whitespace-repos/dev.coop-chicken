import{B as w}from"./Authenticated.4bf69a33.js";import{H as T,c as l,a as k,w as U,F as d,r as g,B,o as t,d as e,m as i,D as C,e as m,t as n,n as p,p as D,C as c,s as N,f as v}from"./app.34dda1bd.js";import{r as h,n as f,u as A}from"./index.esm.a0b94528.js";import{_ as L}from"./ResponsiveNavLink.4100381f.js";const P={components:{BreezeAuthenticatedLayout:w,Head:T},props:["products","suppliers","auth"],data(){return{productsList:this.products,form:{shop:this.$inertia.form({shop_name:"",address:"",distance_from_cps:"",shop_dimentions:"",stock_capacity_per_day:"",max_sale_estimate_per_day:"",estimated_start_date:"",products:[],phone:"",supplier_id:""})}}},methods:{saveShop(){this.form.shop.post(this.route("shop.store"),{onSuccess:()=>{this.form.shop.reset()}})},loadSupplierProducts(){axios.get(this.route("supplier.products.list",this.form.shop.supplier_id)).then(b=>{this.form.shop.products=[],this.productsList=b.data.products,this.$toast.info("All products loaded associated with supplier !")})}},mounted(){setTimeout(()=>{this.form.shop.supplier_id=this.auth.user.id},1e3)},validations(){return{form:{shop:{shop_name:{required:h},address:{required:h},shop_dimentions:{required:h},stock_capacity_per_day:{required:h,numeric:f},max_sale_estimate_per_day:{required:h,numeric:f},phone:{required:h,numeric:f},products:{required:h},estimated_start_date:{required:h},distance_from_cps:{required:h,numeric:f}}}}},setup(){return{v$:A()}}},z=e("h6",{class:"mb-0"},[e("span",{"data-feather":"calendar",class:"align-text-bottom mr-2"}),v(" Add New Store ")],-1),F=e("hr",null,null,-1),H={class:"card card-body shadow-lg"},M={class:"row"},E={class:"form-group col-md-4"},q=e("label",null,"Choose Supplier",-1),I=["value"],O=e("label",null,"Supplier",-1),R=["value"],j=e("label",null,"Select Product *",-1),G=e("label",null,"Shop Full Name *",-1),J=e("label",null,"Shop Address *",-1),K=e("label",null,"Shop Dimentions *",-1),Q=e("label",null,"Stock Capacity Per Day *",-1),W=e("label",null,[v("Max Sale Estimate"),e("label",{class:"small mb-0"},"(amount calculated in INR)"),v(" *")],-1),X=e("label",null,"Distance From CPS *",-1),Y=e("label",null,"Estimated Start Date *",-1),Z=e("label",null,"Contact Number *",-1),oo={class:"col-md-12"},eo={class:"form-group py-1"},so=["disabled"],ro=e("span",{"data-feather":"database",class:"mr-2 align-text-bottom"},null,-1),to=v(" Save New Shop"),lo=[ro,to];function ao(b,r,y,s,$,_){const S=g("Head"),x=g("v-select"),V=g("BreezeAuthenticatedLayout"),u=B("maska");return t(),l(d,null,[k(S,{title:"Dashboard"}),k(V,null,{default:U(()=>[z,F,e("form",{method:"POST",onSubmit:r[11]||(r[11]=N((...o)=>_.saveShop&&_.saveShop(...o),["prevent"])),class:"font-weight-bold"},[e("div",H,[e("div",M,[e("div",E,[y.auth.isAdmin?(t(),l(d,{key:0},[q,i(e("select",{"onUpdate:modelValue":r[0]||(r[0]=o=>$.form.shop.supplier_id=o),class:"form-control",onChange:r[1]||(r[1]=(...o)=>_.loadSupplierProducts&&_.loadSupplierProducts(...o))},[(t(!0),l(d,null,m(y.suppliers,o=>(t(),l("option",{value:o.id,key:o.id},n(o.name),9,I))),128))],544),[[C,$.form.shop.supplier_id]])],64)):(t(),l(d,{key:1},[O,e("input",{value:y.auth.user.name,class:"form-control",disabled:"",readonly:""},null,8,R)],64))]),e("div",{class:p(["form-group col-md-4",{"has-error":s.v$.form.shop.products.$errors.length}])},[j,(t(),D(x,{modelValue:s.v$.form.shop.products.$model,"onUpdate:modelValue":r[2]||(r[2]=o=>s.v$.form.shop.products.$model=o),options:$.productsList,"get-option-key":o=>o.id,"get-option-label":o=>o.product_name,key:o=>o.id,multiple:""},null,8,["modelValue","options","get-option-key","get-option-label"])),(t(!0),l(d,null,m(s.v$.form.shop.products.$errors,(o,a)=>(t(),l("small",{key:a},n(o.$message),1))),128))],2),e("div",{class:p(["form-group col-md-4",{"has-error":s.v$.form.shop.shop_name.$errors.length}])},[G,i(e("input",{"onUpdate:modelValue":r[3]||(r[3]=o=>s.v$.form.shop.shop_name.$model=o),placeholder:"Type shop name here",class:"form-control"},null,512),[[c,s.v$.form.shop.shop_name.$model]]),(t(!0),l(d,null,m(s.v$.form.shop.shop_name.$errors,(o,a)=>(t(),l("small",{key:a},n(o.$message),1))),128))],2),e("div",{class:p(["form-group col-md-4",{"has-error":s.v$.form.shop.address.$errors.length}])},[J,i(e("input",{"onUpdate:modelValue":r[4]||(r[4]=o=>s.v$.form.shop.address.$model=o),placeholder:"Type shop address here",class:"form-control"},null,512),[[c,s.v$.form.shop.address.$model]]),(t(!0),l(d,null,m(s.v$.form.shop.address.$errors,(o,a)=>(t(),l("small",{key:a},n(o.$message),1))),128))],2),e("div",{class:p(["form-group col-md-4",{"has-error":s.v$.form.shop.shop_dimentions.$errors.length}])},[K,i(e("input",{"onUpdate:modelValue":r[5]||(r[5]=o=>s.v$.form.shop.shop_dimentions.$model=o),placeholder:"Type shop dimentions here",class:"form-control"},null,512),[[c,s.v$.form.shop.shop_dimentions.$model]]),(t(!0),l(d,null,m(s.v$.form.shop.shop_dimentions.$errors,(o,a)=>(t(),l("small",{key:a},n(o.$message),1))),128))],2),e("div",{class:p(["form-group col-md-4",{"has-error":s.v$.form.shop.stock_capacity_per_day.$errors.length}])},[Q,i(e("input",{"onUpdate:modelValue":r[6]||(r[6]=o=>s.v$.form.shop.stock_capacity_per_day.$model=o),placeholder:"Type stock capacity here (per day)",class:"form-control"},null,512),[[c,s.v$.form.shop.stock_capacity_per_day.$model],[u,"#*.##"]]),(t(!0),l(d,null,m(s.v$.form.shop.stock_capacity_per_day.$errors,(o,a)=>(t(),l("small",{key:a},n(o.$message),1))),128))],2),e("div",{class:p(["form-group col-md-4",{"has-error":s.v$.form.shop.max_sale_estimate_per_day.$errors.length}])},[W,i(e("input",{"onUpdate:modelValue":r[7]||(r[7]=o=>s.v$.form.shop.max_sale_estimate_per_day.$model=o),placeholder:"Type max sale estimate here",class:"form-control"},null,512),[[c,s.v$.form.shop.max_sale_estimate_per_day.$model],[u,"#*.##"]]),(t(!0),l(d,null,m(s.v$.form.shop.max_sale_estimate_per_day.$errors,(o,a)=>(t(),l("small",{key:a},n(o.$message),1))),128))],2),e("div",{class:p(["form-group col-md-4",{"has-error":s.v$.form.shop.distance_from_cps.$errors.length}])},[X,i(e("input",{"onUpdate:modelValue":r[8]||(r[8]=o=>s.v$.form.shop.distance_from_cps.$model=o),placeholder:"Type distance here",class:"form-control"},null,512),[[c,s.v$.form.shop.distance_from_cps.$model],[u,"#*.##"]]),(t(!0),l(d,null,m(s.v$.form.shop.distance_from_cps.$errors,(o,a)=>(t(),l("small",{key:a},n(o.$message),1))),128))],2),e("div",{class:p(["form-group col-md-4",{"has-error":s.v$.form.shop.estimated_start_date.$errors.length}])},[Y,i(e("input",{placeholder:"Type max sale estimate here",class:"form-control",type:"date","onUpdate:modelValue":r[9]||(r[9]=o=>s.v$.form.shop.estimated_start_date.$model=o)},null,512),[[c,s.v$.form.shop.estimated_start_date.$model]]),(t(!0),l(d,null,m(s.v$.form.shop.estimated_start_date.$errors,(o,a)=>(t(),l("small",{key:a},n(o.$message),1))),128))],2),e("div",{class:p(["form-group col-md-4",{"has-error":s.v$.form.shop.phone.$errors.length}])},[Z,i(e("input",{"onUpdate:modelValue":r[10]||(r[10]=o=>s.v$.form.shop.phone.$model=o),class:"form-control"},null,512),[[c,s.v$.form.shop.phone.$model],[u,"#*##"]]),(t(!0),l(d,null,m(s.v$.form.shop.phone.$errors,(o,a)=>(t(),l("small",{key:a},n(o.$message),1))),128))],2),e("div",oo,[e("div",eo,[e("button",{class:"btn btn-danger px-5 my-4",type:"submit",disabled:s.v$.form.shop.$invalid},lo,8,so)])])])])],32)]),_:1})],64)}var ho=L(P,[["render",ao]]);export{ho as default};
