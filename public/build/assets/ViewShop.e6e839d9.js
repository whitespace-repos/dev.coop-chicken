import{B as P}from"./Authenticated.4bf69a33.js";import{H as D,A as g,X as C,c as l,a as v,w as T,F as h,r as S,B as I,o as a,d as t,f as o,t as e,e as m,b as p,s as y,m as f,C as k}from"./app.34dda1bd.js";import"./moment.9709ab41.js";import{_ as A}from"./Button.ad1bb19d.js";import{_ as V}from"./Input.9bccca05.js";import{_ as E}from"./ResponsiveNavLink.4100381f.js";const M={components:{BreezeAuthenticatedLayout:P,Head:D,Button:A,Input:V},props:["products","shop","users","due_amount","sales"],data(){return{isNil:g.exports.isNil,form:{addProduct:this.$inertia.form({products:this.shop.products}),approvedStockRequest:this.$inertia.form({supply_rates:{}}),sendStock:this.$inertia.form({send_stocks:{}}),directStockRequest:this.$inertia.form({products:{},actual_payment:0,shop_id:""})},selectedRequest:null,receiveStockPayment:0,productRate:{}}},mounted(){g.exports.forEach(this.shop.products,d=>{this.form.directStockRequest.products["product-"+d.id+"-total-price"]=0}),this.productRate=g.exports.head(this.products),feather.replace({"aria-hidden":"true"})},computed:{calculateTotalPrice:function(){let d=0;return g.exports.forEach(this.shop.products,n=>{d+=this.form.directStockRequest.products["product-"+n.id+"-total-price"]}),d}},methods:{openSendConfirmationModal(d){this.selectedRequest=g.exports.head(g.exports.filter(this.shop.stock_requests,["id",d])),this.receiveStockPayment=this.selectedRequest.actual_payment,g.exports.forEach(this.selectedRequest.requested_products,n=>{this.form.sendStock.send_stocks["product-"+n.id]=n.stock_request})},completeStockRequest(d){C.Inertia.post(this.route("completed.stock",d),{payment_received:this.receiveStockPayment},{onSuccess:n=>{$("#completeStockRequestConfirmationModal").modal("hide")}})},addProductsToShop(){this.form.addProduct.patch(this.route("shop.update",this.shop.id),{onSuccess:()=>{$("#Add_Product").modal("hide"),this.$toast.success("Shop products list updated successfully.")}})},approveStockRequest(d){this.form.approvedStockRequest.post(this.route("approve.stock.approved",d),{onSuccess:n=>{this.form.approvedStockRequest.reset("supply_rate")}})},sendStockToShop(d){this.form.sendStock.post(this.route("send.stock",d),{onSuccess:n=>{this.form.sendStock.reset(),$("#sendStockConfirmRequest").modal("hide"),this.$toast.success("Stock sent to shop successfully.")}})},directStockRequest(){this.form.directStockRequest.actual_payment=this.calculateTotalPrice,this.form.directStockRequest.shop_id=this.shop.id,this.form.directStockRequest.post(this.route("direct.requested"),{onSuccess:d=>{this.form.directStockRequest.products={},this.$toast.success("Direct stock sent to shop successfully.")}})},isNotEmpty:function(d){return!g.exports.isNil(d)},calculateSupplyRate:function(d,n){let c=this.$data,R=isNaN(parseFloat(c.form.directStockRequest.products["product-"+n]))?0:parseFloat(c.form.directStockRequest.products["product-"+n]),i=isNaN(parseFloat(c.form.directStockRequest.products["product-"+n+"-supply-rate"]))?0:parseFloat(c.form.directStockRequest.products["product-"+n+"-supply-rate"]),u=R*i;this.form.directStockRequest.products["product-"+n+"-total-price"]=u},parseToJSON(d){return JSON.parse(d)},filterProduct(d){this.axios.get(this.route("filter.product",d)).then(n=>{this.productRate=n.data.productRate,this.$toast.info("Today's Rate loaded")})}}},O={class:"row"},F={class:"col-lg-7 col-md-12"},U={class:"d-flex"},B=t("span",{"data-feather":"file",class:"align-text-bottom mr-1"},null,-1),z={class:"text-muted font-weight-bold"},G=t("sup",null,"INR",-1),H={class:"text-muted font-weight-bold ml-4"},L=t("span",{"data-feather":"user",class:"align-text-bottom"},null,-1),j=t("hr",null,null,-1),J={class:"row no-gutters shadow-lg"},W={class:"col-3"},X={class:"card rounded-0"},Q={class:"card-header font-weight-bold text-danger"},Y=t("span",{"data-feather":"phone",class:"align-text-bottom"},null,-1),K={class:"list-group list-group-flush"},Z={class:"list-group-item p-2"},tt=t("span",{"data-feather":"map-pin",class:"align-text-bottom mr-1"},null,-1),st=o(),et=t("b",null,"Address",-1),ot={class:"list-group-item p-2"},lt=t("span",{"data-feather":"globe",class:"align-text-bottom mr-1"},null,-1),at=o(),dt=t("b",null,"Distance",-1),nt={class:"list-group-item p-2"},it=t("span",{"data-feather":"sidebar",class:"align-text-bottom mr-1"},null,-1),ct=o(),rt=t("b",null,"Dimensive",-1),ut={class:"list-group-item p-2"},_t=o("\u20B9 "),ht=t("b",{class:"ml-2"},"Max Sale Estimation",-1),pt={class:"list-group-item p-2"},mt=o("\u20B9 "),gt=t("b",{class:"ml-2"},"Max stock capacity",-1),bt={class:"list-group-item p-2"},ft=t("span",{"data-feather":"calendar",class:"align-text-bottom mr-1"},null,-1),kt=o(),yt=t("b",null,"Estimated Start Date",-1),vt={class:"list-group-item p-2"},St=t("span",{"data-feather":"users",class:"align-text-bottom mr-1"},null,-1),Rt=o(),xt=t("b",null,"Supplier",-1),wt={class:"card-body px-0 pb-0"},qt=t("h6",{class:"heading px-2 mb-2"},[t("span",{"data-feather":"layers",class:"align-text-bottom mr-2"}),o(" Product "),t("a",{"data-toggle":"modal",href:"#Add_Product",class:"float-right text-danger"},[t("span",{"data-feather":"plus-circle",class:"align-text-bottom mr-2"})])],-1),Nt={class:"list-group list-group-flush overflow-10em-auto custom-scrollbar"},Pt=["src"],Dt=o(),Ct={class:"col-lg-6"},Tt={class:"card h-100 rounded-0 border-0"},It=t("div",{class:"card-header bg-transparent font-weight-bold text-danger"},[t("span",{"data-feather":"shopping-bag",class:"mr-2"}),o(" Today's Sales ")],-1),At={class:"card-body custom-scrollbar",style:{"max-height":"32.45em",overflow:"auto"}},Vt={key:0,class:"row"},Et={class:"col-6"},Mt={class:"list-group list-group-flush"},Ot={class:"list-group-item font-weight-bold text-center"},Ft=["src"],Ut=o(),Bt={class:"list-group-item px-1 text-center"},zt=t("span",{"data-feather":"shopping-bag",class:"mr-1"},null,-1),Gt=t("span",{"data-feather":"at-sign",class:"mr-1 ml-3"},null,-1),Ht=t("sup",null,"INR",-1),Lt={key:1,class:"text-center"},jt={class:"col-lg-3"},Jt={class:"card h-100 rounded-0"},Wt=t("div",{class:"card-header bg-transparent font-weight-bold text-danger"},[t("span",{"data-feather":"truck",class:"mr-2"}),o(" Current Stock ")],-1),Xt={class:"card-body custom-scrollbar p-2",style:{"max-height":"32.45em",overflow:"auto"}},Qt={class:"list-group-item font-weight-bold"},Yt=["src"],Kt={class:"list-group-item text-danger font-weight-bold"},Zt=t("span",{"data-feather":"truck",class:"mr-1"},null,-1),$t={class:"row no-gutters mb-5"},ts={class:"col-lg-3"},ss={class:"card h-100 rounded-0"},es={class:"card-header font-weight-bold text-danger d-flex align-items-center p-1"},os=t("span",{"data-feather":"activity",class:"mr-2"},null,-1),ls=o(" Today's Rate "),as=["value"],ds={key:0,class:"list-group list-group-horizontal rounded-0"},ns={class:"list-group-item rounded-0 w-auto border-left-0 border-top-0 border-bottom-0 px-1"},is=t("h6",null," Wholesale ",-1),cs=t("sup",null,"INR ",-1),rs={class:"list-group-item rounded-0 border-right-0 border-top-0 border-bottom-0 px-1"},us=t("h6",null,"Retail",-1),_s={class:"badge badge-danger font-weight-normal d-block"},hs=t("sup",null,"INR ",-1),ps={key:1,class:"text-danger text-center my-4"},ms={class:"col-lg-9"},gs={class:"TabWrapper"},bs=t("ul",{class:"nav nav-tabs font-weight-bold"},[t("li",{class:"nav-item"},[t("a",{id:"StkReq",class:"nav-link active p-2 text-danger","data-toggle":"tab",href:"#StockRequest"},[t("span",{"data-feather":"truck",class:"mr-1"}),o(" Stock Request")])]),t("li",{class:"nav-item"},[t("a",{id:"SndStk",class:"nav-link p-2 text-danger","data-toggle":"tab",href:"#SendNewStock"},[t("span",{"data-feather":"truck",class:"mr-1"}),o(" Send New Stock")])]),t("li",{class:"nav-item"},[t("a",{id:"comStkReq",class:"nav-link p-2 text-danger","data-toggle":"tab",href:"#ComStockRequest"},[t("span",{"data-feather":"check-circle",class:"mr-1"}),o(" Completed Requests")])])],-1),fs={class:"tab-content px-1 py-3 custom-scrollbar",style:{"max-height":"300px",height:"300px","overflow-y":"auto"}},ks={class:"tab-pane active",id:"StockRequest"},ys={class:"accordion",id:"accordionExample"},vs={key:0,class:"card"},Ss={class:"card-header p-0",id:"headingOne"},Rs={class:"d-flex justify-content-between align-items-center font-weight-bold list-unstyled mb-0"},xs={class:"mx-2"},ws=["data-target","aria-controls"],qs=t("span",{"data-feather":"calendar",class:"mr-1"},null,-1),Ns={key:0,class:"my-2 ml-2 mr-3"},Ps=t("sup",null,"INR",-1),Ds={key:1,class:"my-2 ml-2"},Cs=["onClick"],Ts=t("span",{"data-feather":"check-circle",class:"mr-1"},null,-1),Is=o(" Send"),As=[Ts,Is],Vs=["onClick"],Es=t("span",{"data-feather":"check-circle",class:"mr-1"},null,-1),Ms=o(" Completed"),Os=[Es,Ms],Fs=["id"],Us=["onSubmit"],Bs={class:"row"},zs={class:"list-group list-group-flush shadow-lg my-3"},Gs={class:"list-group-item font-weight-bold text-center px-1 text-truncate"},Hs=["src"],Ls=o(),js={key:0,class:"list-group-item px-1 text-center small"},Js={key:0},Ws=t("span",{"data-feather":"shopping-bag",class:"mr-1"},null,-1),Xs={key:1},Qs=t("span",{"data-feather":"at-sign",class:"mr-1 ml-3"},null,-1),Ys=t("sup",null,"INR",-1),Ks=t("span",{"data-feather":"at-sign",class:"mr-1 ml-3"},null,-1),Zs=t("sup",null,"INR",-1),$s={key:1,class:"list-group-item px-1 text-center"},te={class:"input-group input-group-sm"},se={class:"input-group-prepend"},ee={key:0,class:"input-group-text"},oe={key:1,class:"input-group-text"},le=["onUpdate:modelValue"],ae={class:"input-group-append"},de={class:"input-group-text"},ne={key:0},ie={key:1,type:"submit",class:"btn btn-danger btn-sm px-5 mx-2"},ce=t("span",{"data-feather":"check-circle",class:"mr-1"},null,-1),re=o(" Confirm"),ue=[ce,re],_e={id:"ComStockRequest",class:"tab-pane"},he={class:"accordion",id:"accordionExample1"},pe={key:0,class:"card"},me={class:"card-header p-0",id:"headingOne"},ge={class:"d-flex justify-content-between align-items-center font-weight-bold list-unstyled mb-0"},be={class:"mx-2"},fe=["data-target","aria-controls"],ke=t("span",{"data-feather":"calendar",class:"mr-1"},null,-1),ye={key:0,class:"my-2 ml-2 mr-3"},ve=t("sup",null,"INR",-1),Se=["id"],Re={class:"row no-gutters"},xe={class:"list-group list-group-flush shadow-lg my-3"},we={class:"list-group-item font-weight-bold text-center px-1 small text-truncate"},qe=["src"],Ne=o(),Pe={key:0,class:"list-group-item px-1 text-center small"},De=t("span",{"data-feather":"shopping-bag",class:"mr-1"},null,-1),Ce=t("span",{"data-feather":"at-sign",class:"mr-1 ml-3"},null,-1),Te=t("sup",null,"INR",-1),Ie={id:"SendNewStock",class:"tab-pane fade"},Ae={class:"mr-5 ml-2 font-weight-bold"},Ve=t("sup",null,"INR ",-1),Ee=t("button",{class:"btn btn-outline-danger btn-sm px-5",type:"submit"},"Confirm",-1),Me=t("hr",null,null,-1),Oe={class:"row"},Fe={key:0,class:"list-group shadow-lg mb-3"},Ue={class:"list-group-item font-weight-bold text-truncate px-1 text-center"},Be=["src"],ze={class:"text-danger"},Ge={class:"list-group-item px-2"},He={class:"input-group input-group-sm"},Le=["onInput","onUpdate:modelValue"],je={class:"input-group-prepend"},Je={class:"input-group-text",id:"inputGroup-sizing-sm"},We=["onInput","onUpdate:modelValue"],Xe=t("div",{class:"input-group-prepend"},[t("span",{class:"input-group-text",id:"inputGroup-sizing-sm"},"INR")],-1),Qe={class:"list-group-item p-1 d-flex justify-content-between"},Ye={class:"help-block text-muted"},Ke=t("sup",null,"INR",-1),Ze={class:"modal",id:"sendStockConfirmRequest"},$e={class:"modal-dialog modal-lg"},to={class:"modal-content"},so=t("div",{class:"modal-header py-1 border-danger text-danger d-flex align-items-center"},[t("h6",{class:"mb-0"},"Confirm and Modify Stock Detail "),t("button",{type:"button",class:"btn btn-link btn-sm","data-dismiss":"modal"},"\xD7")],-1),eo={class:"modal-body"},oo={class:"table table-bordered table-striped table-hover table-sm"},lo=t("thead",null,[t("tr",null,[t("th",null,"#"),t("th",null,"Product"),t("th",null,"Requested"),t("th",null,"Send")])],-1),ao={width:"180"},no={class:"input-group input-group-sm"},io=["onUpdate:modelValue"],co={class:"input-group-prepend"},ro={class:"input-group-text"},uo=t("button",{type:"submit",class:"btn btn-danger btn-sm px-5"},"Send Stock To Shop",-1),_o={class:"modal",id:"completeStockRequestConfirmationModal"},ho={class:"modal-dialog modal-lg"},po={class:"modal-content"},mo={class:"modal-header py-2 border-danger text-danger"},go={key:0,class:""},bo=o("Review Stock Detail "),fo=t("sup",null,"INR",-1),ko=t("button",{type:"button",class:"btn btn-link btn-sm","data-dismiss":"modal"},"\xD7",-1),yo={class:"modal-body"},vo={class:"table table-bordered table-striped table-hover table-sm"},So=t("thead",null,[t("tr",null,[t("th",null,"#"),t("th",null,"Product"),t("th",null,"Requested"),t("th",null,"Send"),t("th",null,"Received"),t("th",null,"Wastage")])],-1),Ro={class:"form-group mr-4 float-left w-25"},xo=t("label",null,"Received Amount ",-1),wo={class:"modal",id:"Add_Product"},qo={class:"modal-dialog modal-lg"},No={class:"modal-content"},Po=t("div",{class:"modal-header border-danger text-danger py-1 align-items-center"},[t("h6",null,"Add new product to shop"),t("button",{type:"button",class:"btn btn-link btn-sm","data-dismiss":"modal"},"\xD7")],-1),Do={class:"modal-body"},Co={class:"form-group"},To=t("label",{class:"font-weight-bold"},"Choose Products ",-1),Io=t("hr",null,null,-1),Ao=t("button",{class:"btn btn-danger btn-sm add-btn",type:"submit"},"Add Product",-1);function Vo(d,n,c,R,i,u){const x=S("Head"),w=S("v-select"),q=S("BreezeAuthenticatedLayout"),b=I("maska");return a(),l(h,null,[v(x,{title:"Dashboard"}),v(q,null,{default:T(()=>[t("div",O,[t("div",F,[t("h6",U,[B,o(" "+e("COOP - "+c.shop.shop_name),1)]),t("small",z,[o("Due Amount - "+e(d.toDecimal(c.due_amount))+" ",1),G]),t("small",H,[L,o(" Retailer - "+e(i.isNil(c.shop.employee)?"-":c.shop.employee.name),1)])])]),j,t("div",J,[t("div",W,[t("div",X,[t("div",Q,[Y,o(" "+e(c.shop.phone),1)]),t("ul",K,[t("li",Z,[tt,st,et,o(" : "+e(c.shop.address),1)]),t("li",ot,[lt,at,dt,o(" : "+e(c.shop.distance_from_cps),1)]),t("li",nt,[it,ct,rt,o(" : "+e(c.shop.shop_dimentions),1)]),t("li",ut,[_t,ht,o(" : "+e(d.toDecimal(c.shop.max_sale_estimate_per_day)),1)]),t("li",pt,[mt,gt,o(" : "+e(d.toDecimal(c.shop.stock_capacity_per_day)),1)]),t("li",bt,[ft,kt,yt,o(" : "+e(c.shop.estimated_start_date),1)]),t("li",vt,[St,Rt,xt,o(" : "+e(c.shop.supplier.name),1)])]),t("div",wt,[qt,t("ul",Nt,[(a(!0),l(h,null,m(c.shop.products,s=>(a(),l("li",{class:"list-group-item",key:s.id},[t("img",{src:s.image,alt:"",class:"img-fluid mr-2",width:"20"},null,8,Pt),Dt,t("span",null,e(s.product_name),1)]))),128))])])])]),t("div",Ct,[t("div",Tt,[It,t("div",At,[c.sales.length>0?(a(),l("div",Vt,[t("div",Et,[(a(!0),l(h,null,m(c.sales,s=>(a(),l("div",{class:"card text-danger mb-4 shadow-lg",key:s.id},[t("ul",Mt,[t("li",Ot,[t("img",{src:s.product.image,class:"img-fluid mr-2",width:"20"},null,8,Ft),Ut,t("span",null,e(s.product.product_name),1)]),t("li",Bt,[zt,o(" "+e(d.toDecimal(s.total_quantity))+" ",1),t("sup",null,e(s.product.weight_unit),1),Gt,o(" "+e(d.toDecimal(s.total_sales))+" ",1),Ht])])]))),128))])])):(a(),l("h6",Lt,"No Sale Found For Today"))])])]),t("div",jt,[t("div",Jt,[Wt,t("div",Xt,[(a(!0),l(h,null,m(c.shop.products,s=>(a(),l("ul",{class:"list-group shadow-lg mb-3",key:s.id},[s.stock?(a(),l(h,{key:0},[t("li",Qt,[t("img",{src:s.image,class:"img-fluid mr-2",width:"20"},null,8,Yt),o(" "+e(s.product_name),1)]),t("li",Kt,[Zt,o(" "+e(d.toDecimal(s.association.stock)+" "+s.weight_unit),1)])],64)):p("",!0)]))),128))])])])]),t("div",$t,[t("div",ts,[t("div",ss,[t("div",es,[os,ls,t("select",{class:"form-control form-control-sm w-50 ml-auto","aria-label":"Default select example","data-live-search":"false",onChange:n[0]||(n[0]=s=>u.filterProduct(s.target.value))},[(a(!0),l(h,null,m(c.shop.products,s=>(a(),l("option",{key:s.id,value:s.id},e(s.product_name),9,as))),128))],32)]),i.productRate.rate!=null&&i.productRate.rate!=""?(a(),l("ul",ds,[t("li",ns,[is,t("p",null,[(a(!0),l(h,null,m(u.parseToJSON(i.productRate.rate.wholesale_rate),s=>(a(),l("span",{class:"badge badge-danger font-weight-normal d-block my-1",key:s.id,style:{"font-size":"11px"}},[o(e(d.toDecimal(s.rate))+" ",1),cs,o(" "+e(" : "+d.toDecimal(s.from)+" - ")+" "+e(s.to==5e4?"MAX":d.toDecimal(s.to))+" "+e(i.productRate.weight_unit),1)]))),128))])]),t("li",rs,[us,t("p",null,[t("span",_s,[o(e(d.toDecimal(i.productRate.rate.retail_rate))+" ",1),hs,o(" "+e(i.productRate.weight_unit),1)])])])])):(a(),l("h6",ps," Product rate not added yet."))])]),t("div",ms,[t("div",gs,[bs,t("div",fs,[t("div",ks,[t("div",ys,[(a(!0),l(h,null,m(c.shop.stock_requests,(s,_)=>(a(),l(h,{key:s.id},[s.status!="Completed"?(a(),l("div",vs,[t("div",Ss,[t("ul",Rs,[t("li",null,[t("b",xs,e(_+1)+". ",1),t("button",{class:"btn btn-link text-left p-1 collapsed border-0 d-inline-flex align-items-center",type:"button","data-toggle":"collapse","data-target":"#collapse"+_,"aria-expanded":"true","aria-controls":"collapse"+_},[qs,o(" "+e(s.date),1)],8,ws),s.status!="Requested"?(a(),l("span",Ns,[o("Status - "+e(s.status)+" ",1),t("small",null,[o("Actual Payment :"+e(s.actual_payment)+" ",1),Ps])])):(a(),l("span",Ds,"Status - "+e(s.status),1))]),t("li",null,[s.status=="Processing"?(a(),l("button",{key:0,type:"button","data-target":"#sendStockConfirmRequest","data-toggle":"modal",class:"btn btn-danger btn-sm small-sm mx-2 py-0",onClick:r=>u.openSendConfirmationModal(s.id)},As,8,Cs)):p("",!0),s.status=="Received"?(a(),l("button",{key:1,type:"button",class:"btn btn-danger btn-sm small-sm mx-2 py-0","data-target":"#completeStockRequestConfirmationModal","data-toggle":"modal",onClick:r=>u.openSendConfirmationModal(s.id)},Os,8,Vs)):p("",!0)])])]),t("div",{id:"collapse"+_,class:"collapse container-fluid","aria-labelledby":"headingOne","data-parent":"#accordionExample"},[t("form",{onSubmit:y(r=>u.approveStockRequest(s.id),["prevent"]),class:"w-100"},[t("div",Bs,[(a(!0),l(h,null,m(s.requested_products,r=>(a(),l("div",{class:"col-4",key:r.id},[t("ul",zs,[t("li",Gs,[t("img",{src:r.product.image,class:"img-fluid mr-2",width:"20"},null,8,Hs),Ls,t("span",null,e(r.product.product_name),1)]),s.status!="Requested"?(a(),l("li",js,[s.type=="Direct"?(a(),l("b",Js,[Ws,o(" "+e(d.toDecimal(r.stock_sent)+" "+r.product.weight_unit),1)])):(a(),l("b",Xs,[Qs,o(" "+e(d.toDecimal(r.stock_request)+" "+r.product.weight_unit)+" ",1),Ys])),t("b",null,[Ks,o(" "+e(d.toDecimal(r.supply_rate))+" ",1),Zs])])):(a(),l("li",$s,[t("div",te,[t("div",se,[s.type=="Direct"?(a(),l("span",ee,e(d.toDecimal(r.stock_sent)+" "+r.product.weight_unit),1)):(a(),l("span",oe,e(d.toDecimal(r.stock_request)+" "+r.product.weight_unit),1))]),f(t("input",{min:"0",onkeypress:"return event.charCode >= 48",class:"form-control",id:"inlineFormInputGroup",placeholder:"Supply Rate","onUpdate:modelValue":N=>i.form.approvedStockRequest.supply_rates["product-"+r.id]=N},null,8,le),[[k,i.form.approvedStockRequest.supply_rates["product-"+r.id]],[b,"#*.##"]]),t("div",ae,[t("span",de,"/ "+e(r.product.weight_unit),1)])])]))])]))),128))]),s.status=="Requested"?(a(),l("hr",ne)):p("",!0),s.status=="Requested"?(a(),l("button",ie,ue)):p("",!0)],40,Us)],8,Fs)])):p("",!0)],64))),128))])]),t("div",_e,[t("div",he,[(a(!0),l(h,null,m(c.shop.stock_requests,(s,_)=>(a(),l(h,{key:s.id},[s.status=="Completed"?(a(),l("div",pe,[t("div",me,[t("ul",ge,[t("li",null,[t("b",be,e(++_)+". ",1),t("button",{class:"btn btn-link text-left p-1 collapsed border-0 d-inline-flex align-items-center",type:"button","data-toggle":"collapse","data-target":"#collapse"+_,"aria-expanded":"true","aria-controls":"collapse"+_},[ke,o(" "+e(s.date),1)],8,fe),s.status!="Requested"?(a(),l("span",ye,[o("Status - "+e(s.status)+" ",1),t("small",null,[o("Actual Payment :"+e(s.actual_payment)+" ",1),ve])])):p("",!0)])])]),t("div",{id:"collapse"+_,class:"collapse container-fluid","aria-labelledby":"headingOne","data-parent":"#accordionExample1"},[t("div",Re,[(a(!0),l(h,null,m(s.requested_products,r=>(a(),l("div",{class:"col-3",key:r.id},[t("ul",xe,[t("li",we,[t("img",{src:r.product.image,class:"img-fluid mr-2",width:"20"},null,8,qe),Ne,t("span",null,e(r.product.product_name),1)]),s.status!="Requested"?(a(),l("li",Pe,[t("small",null,[De,o(" "+e(d.toDecimal(r.stock_sent)+" "+r.product.weight_unit),1)]),t("small",null,[Ce,o(" "+e(d.toDecimal(r.stock_request))+" ",1),Te])])):p("",!0)])]))),128))])],8,Se)])):p("",!0)],64))),128))])]),t("div",Ie,[t("form",{method:"POST",onSubmit:n[1]||(n[1]=y((...s)=>u.directStockRequest&&u.directStockRequest(...s),["prevent"])),class:"container-fluid"},[t("label",Ae,[o(" Grand Total Price : "+e(d.toDecimal(u.calculateTotalPrice))+" ",1),Ve]),Ee,Me,t("div",Oe,[(a(!0),l(h,null,m(c.shop.products,s=>(a(),l("div",{class:"col-4",key:s.id},[s.stock?(a(),l("ul",Fe,[t("li",Ue,[t("img",{src:s.image,class:"img-fluid mr-2",width:"20"},null,8,Be),o(" "+e(s.product_name)+" ",1),t("span",ze,"("+e(d.toDecimal(s.association.stock)+" "+s.weight_unit)+" )",1)]),t("li",Ge,[t("div",He,[f(t("input",{type:"text",class:"form-control",onInput:_=>u.calculateSupplyRate(_,s.id),placeholder:"Quantity","onUpdate:modelValue":_=>i.form.directStockRequest.products["product-"+s.id]=_},null,40,Le),[[b,"#*.##"],[k,i.form.directStockRequest.products["product-"+s.id]]]),t("div",je,[t("span",Je,e(s.weight_unit),1)]),f(t("input",{type:"text",class:"form-control",onInput:_=>u.calculateSupplyRate(_,s.id),placeholder:"Supply Rate","onUpdate:modelValue":_=>i.form.directStockRequest.products["product-"+s.id+"-supply-rate"]=_},null,40,We),[[b,"#*.##"],[k,i.form.directStockRequest.products["product-"+s.id+"-supply-rate"]]]),Xe])]),t("li",Qe,[t("small",Ye,"\u27A9 Supply Rate for per "+e(s.weight_unit)+".",1),t("small",null,[o("\u20B9 "+e(d.toDecimal(i.form.directStockRequest.products["product-"+s.id+"-total-price"]))+" ",1),Ke])])])):p("",!0)]))),128))])],32)])])])])]),t("div",Ze,[t("div",$e,[t("div",to,[so,t("div",eo,[t("form",{method:"POST",onSubmit:n[2]||(n[2]=y(s=>u.sendStockToShop(i.selectedRequest.id),["prevent"])),class:"mb-0"},[t("table",oo,[lo,t("tbody",null,[u.isNotEmpty(i.selectedRequest)?(a(!0),l(h,{key:0},m(i.selectedRequest.requested_products,s=>(a(),l("tr",{key:s.id},[t("td",null,e(s.id),1),t("td",null,e(s.product.product_name),1),t("td",null,e(s.stock_request+" "+s.product.weight_unit),1),t("td",ao,[t("div",no,[f(t("input",{class:"form-control",id:"inlineFormInputGroup",placeholder:"Stock Send","onUpdate:modelValue":_=>i.form.sendStock.send_stocks["product-"+s.id]=_},null,8,io),[[b,"#*.##"],[k,i.form.sendStock.send_stocks["product-"+s.id]]]),t("div",co,[t("div",ro,e(s.product.weight_unit),1)])])])]))),128)):p("",!0)])]),uo],32)])])])]),t("div",_o,[t("div",ho,[t("div",po,[t("div",mo,[u.isNotEmpty(i.selectedRequest)?(a(),l("h6",go,[bo,t("small",null,[o("Actual Payment : "+e(i.selectedRequest.actual_payment)+" ",1),fo])])):p("",!0),ko]),t("div",yo,[u.isNotEmpty(i.selectedRequest)?(a(),l(h,{key:0},[t("table",vo,[So,t("tbody",null,[(a(!0),l(h,null,m(i.selectedRequest.requested_products,s=>(a(),l("tr",{key:s.id},[t("td",null,e(s.id),1),t("td",null,e(s.product.product_name),1),t("td",null,e(s.stock_request+" "+s.product.weight_unit),1),t("td",null,e(s.stock_sent+" "+s.product.weight_unit),1),t("td",null,e(s.stock_received+" "+s.product.weight_unit),1),t("td",null,e(s.stock_wastage+" "+s.product.weight_unit),1)]))),128))])]),t("div",Ro,[xo,f(t("input",{"onUpdate:modelValue":n[3]||(n[3]=s=>i.receiveStockPayment=s),class:"form-control form-control-sm",placeholder:"Receive Amount"},null,512),[[k,i.receiveStockPayment],[b,"#*.##"]])]),t("button",{onClick:n[4]||(n[4]=s=>u.completeStockRequest(i.selectedRequest.id)),class:"btn btn-outline-danger btn-sm",style:{"margin-top":"2em"}},"Yes , I Reviewed")],64)):p("",!0)])])])]),t("div",wo,[t("div",qo,[t("div",No,[Po,t("div",Do,[t("form",{method:"POST",onSubmit:n[6]||(n[6]=y((...s)=>u.addProductsToShop&&u.addProductsToShop(...s),["prevent"])),class:"mb-0"},[t("div",Co,[To,v(w,{label:"selectProduct",modelValue:i.form.addProduct.products,"onUpdate:modelValue":n[5]||(n[5]=s=>i.form.addProduct.products=s),multiple:"",options:c.products,"get-option-label":s=>s.product_name,"get-option-key":s=>s.id},null,8,["modelValue","options","get-option-label","get-option-key"])]),Io,Ao],32)])])])])]),_:1})],64)}var zo=E(M,[["render",Vo]]);export{zo as default};
